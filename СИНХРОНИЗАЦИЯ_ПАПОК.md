# Синхронизация папок PAPA-YU

Три папки работают как одно целое:

| Папка | Назначение |
|-------|------------|
| **`~/Desktop/папа-ю`** | Документация и ТЗ: спецификации, планы, корректные документы. Не содержит кода. |
| **`~/PAPA/PAPA-YU`** | Полная версия приложения на **Electron** + React (Dashboard, Tasks, Policy Engine, Chat и др.). Альтернативный запуск: `npm run dev:electron` или сборка через `npm run build:electron`. |
| **`~/papa-yu`** | **Основное десктоп-приложение на Tauri** + React. Здесь единая точка запуска. |

---

## Запуск (без терминала)

**Основная кнопка — только запуск:**

- **`PAPA YU.command`** — главная кнопка. Двойной клик **сразу запускает** программу (сборка не выполняется).  
  Если приложение ещё не собрано, скрипт подскажет, что нужно сначала выполнить сборку.

**Первая сборка или обновление:**

- **`PAPA YU — Сборка и запуск.command`** — запускайте один раз при первой установке или после обновления кода. Скрипт соберёт приложение и откроет его.

**Иконка основной кнопки (по желанию):**  
Откройте «Сведения» (Get Info) у файла `PAPA YU.command`, перетащите иконку из `PAPA YU.app` (после сборки) в угол иконки в окне «Сведения» — кнопка в Finder будет с иконкой приложения.

---

## Запуск для разработки (с терминалом)

```bash
cd ~/papa-yu/desktop/src-tauri
cargo tauri dev
```

---

## Исправленные моменты

- **tauri.conf.json** приведён к схеме Tauri v2: `devPath` → `devUrl`, `distDir` → `frontendDist`. Пути `beforeDevCommand` и `beforeBuildCommand` используют `$HOME/papa-yu/desktop/ui`, чтобы сборка работала независимо от текущей директории.
- **Идентификатор приложения:** заменён с `com.tauri.dev` на `com.papa-yu` (уникальный и без суффикса `.app` для macOS).
- **Сборка:** в скрипте используется `CI=false` при вызове `cargo tauri build`, чтобы избежать ошибки `--ci` в некоторых окружениях.
- **Основная кнопка:** `PAPA YU.command` — только запуск приложения (без сборки). Для первой сборки используется `PAPA YU — Сборка и запуск.command`.

---

## Связь папок

- **папа-ю** — только чтение: ТЗ и спецификации для ориентира.
- **PAPA-YU** — полный код (Electron); при необходимости оттуда можно переносить фичи в Tauri-версию в `papa-yu`.
- **papa-yu** — основная десктоп-версия (Tauri); здесь ведётся разработка и отсюда идёт единый запуск.
