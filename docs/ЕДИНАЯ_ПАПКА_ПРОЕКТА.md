# Единая папка проекта PAPA YU

После объединения **вся разработка, сборка и запуск** десктопного приложения ведутся из одной папки. Папка **папа-ю** (документы) не переносилась — по вашему требованию она остаётся отдельно.

---

## Проверенные пути (состояние на момент объединения)

| Путь | Существование | Содержимое |
|------|----------------|------------|
| `/Users/yrippertgmail.com/Desktop/papa-yu` | ✅ | **Единая папка проекта.** Код (src/, src-tauri/), скрипты, docs. Здесь вносятся правки и собирается приложение. |
| `/Users/yrippertgmail.com/Desktop/папа-ю` | ✅ | Только документы и ТЗ. **Не переносилась.** Ссылка в README. |
| `/Users/yrippertgmail.com/PAPA-YU` | ✅ | Та же файловая система, что и `~/papa-yu` (один inode на macOS). Другая структура: desktop/ui, desktop/src-tauri. |
| `/Users/yrippertgmail.com/papa-yu` | ✅ | То же, что PAPA-YU (одна папка в домашнем каталоге). |

**Итог:** физически есть две разные копии кода:
1. **Desktop/papa-yu** — плоская структура (src/, src-tauri/ в корне), актуальные правки, диалог с агентом, рекомендации ИИ и т.д.
2. **~/papa-yu** (= ~/PAPA-YU) — вложенная структура (desktop/ui, desktop/src-tauri), другая версия (другие страницы, плагин updater).

Объединение выполнено так: **единой рабочей папкой выбран Desktop/papa-yu.** Из домашней копии перенесены только идеи скриптов запуска; пути и скрипты переписаны под структуру Desktop/papa-yu.

---

## Что сделано в Desktop/papa-yu

1. **Добавлены кнопки запуска (двойной клик):**
   - **`PAPA YU.command`** — только запуск собранного приложения (.app). Если сборки ещё нет, скрипт подскажет запустить «Сборка и запуск».
   - **`PAPA YU — Сборка и запуск.command`** — первая сборка или после обновления кода: `npm run tauri build`, затем открытие .app.

2. **Пути в скриптах:** оба .command используют `$(dirname "$0")` — работают из любой текущей директории, привязаны к папке, где лежит скрипт (корень Desktop/papa-yu). Сборка ищет .app в `src-tauri/target/release/bundle/macos/`.

3. **Документация:** в `docs/` обновлён файл рекомендаций; этот файл (`ЕДИНАЯ_ПАПКА_ПРОЕКТА.md`) фиксирует канонический путь и связи.

4. **README:** добавлена секция «Единственная папка проекта» с путём и способами запуска.

---

## Что сделать вам (рекомендации)

1. **Работать только из одной папки:**  
   `/Users/yrippertgmail.com/Desktop/papa-yu`  
   Все изменения кода, сборка, запуск — только здесь.

2. **Домашняя копия (~/papa-yu / ~/PAPA-YU):**  
   Чтобы не путать две копии, после проверки работы из Desktop можно переименовать домашнюю, например:  
   `mv ~/papa-yu ~/papa-yu-archive`  
   Или удалить, если архив не нужен. Перед удалением убедитесь, что в Desktop/papa-yu есть всё нужное (в т.ч. .env.openai при необходимости скопировать вручную).

3. **Папка папа-ю:**  
   Не трогать. ТЗ и спецификации остаются в `Desktop/папа-ю`. В README указано, где они лежат.

4. **Пересборка после объединения:**  
   - Открыть терминал.  
   - `cd /Users/yrippertgmail.com/Desktop/papa-yu`  
   - `npm install` (если ещё не выполняли).  
   - Запуск для разработки: `./start-with-openai.sh` или `npm run tauri dev`.  
   - Сборка .app: двойной клик по **«PAPA YU — Сборка и запуск.command»** или `npm run tauri build`.  
   После сборки запуск — двойной клик по **«PAPA YU.command»**.

---

## Связи по новой

| Кто | Ссылается на |
|-----|----------------|
| **Код, сборка, запуск** | Только `Desktop/papa-yu` |
| **ТЗ и спецификации** | Папка `Desktop/папа-ю` (в README/docs указан путь) |
| **PAPA YU.command** | Ищет .app в `Desktop/papa-yu/src-tauri/target/release/bundle/macos/` |
| **Сборка и запуск.command** | Выполняет `npm run tauri build` в `Desktop/papa-yu` |

Жёстко прописанных путей в исходном коде (src, src-tauri) нет — везде относительные пути от корня проекта. Ошибки путей после объединения не ожидаются, если открывать и собирать проект из `Desktop/papa-yu`.
