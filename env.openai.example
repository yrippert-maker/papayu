# Скопируйте этот файл в .env.openai и подставьте свой ключ.
# Команда: cp env.openai.example .env.openai
# Затем откройте .env.openai и замените ключ на ваш.

# --- OpenAI ---
PAPAYU_LLM_API_URL=https://api.openai.com/v1/chat/completions
PAPAYU_LLM_API_KEY=your-openai-key-here
PAPAYU_LLM_MODEL=gpt-4o-mini

# --- Claude через OpenRouter (синхронизация с Claude Code / Cursor) ---
# PAPAYU_LLM_API_URL=https://openrouter.ai/api/v1/chat/completions
# PAPAYU_LLM_API_KEY=sk-or-v1-ваш-ключ-openrouter
# PAPAYU_LLM_MODEL=anthropic/claude-3.5-sonnet

# --- Мульти-провайдер: сбор планов от нескольких ИИ (Claude, OpenAI и др.), один оптимальный план ---
# PAPAYU_LLM_PROVIDERS — JSON-массив: [ {"url":"...", "model":"...", "api_key":"..."}, ... ]
# PAPAYU_LLM_PROVIDERS='[{"url":"https://openrouter.ai/api/v1/chat/completions","model":"anthropic/claude-3.5-sonnet","api_key":"sk-or-v1-..."},{"url":"https://api.openai.com/v1/chat/completions","model":"gpt-4o-mini","api_key":"sk-..."}]'
# Опционально: ИИ-агрегатор для слияния планов в один (иначе объединение в Rust).
# PAPAYU_LLM_AGGREGATOR_URL=https://api.openai.com/v1/chat/completions
# PAPAYU_LLM_AGGREGATOR_KEY=sk-...
# PAPAYU_LLM_AGGREGATOR_MODEL=gpt-4o-mini

# --- Синхронизация с агентом: запись .papa-yu/agent-sync.json после анализа ---
# PAPAYU_AGENT_SYNC=1

# --- Snyk Code: дополнение анализа кода (результаты в agent-sync.json, поле snyk_findings) ---
# PAPAYU_SNYK_SYNC=1
# PAPAYU_SNYK_TOKEN=ваш-токен-snyk
# PAPAYU_SNYK_ORG_ID=uuid-организации
# PAPAYU_SNYK_PROJECT_ID=uuid-проекта  # опционально

# --- Documatic / архитектура: описание в .papa-yu/architecture.md (или PAPAYU_DOCUMATIC_ARCH_PATH) → agent-sync architecture_summary ---
# PAPAYU_DOCUMATIC_ARCH_PATH=docs/architecture.md  # по умолчанию .papa-yu/architecture.md

# Строгий JSON (OpenAI Structured Outputs): добавляет response_format с JSON Schema.
# Работает с OpenAI; Ollama и др. могут не поддерживать — не задавать или =0.
# PAPAYU_LLM_STRICT_JSON=1

# memory_patch: 0 (по умолчанию) — игнорировать; 1 — применять по whitelist.
# PAPAYU_MEMORY_AUTOPATCH=0

# EOL: keep (по умолчанию) — не менять; lf — нормализовать \r\n→\n, trailing newline.
# PAPAYU_NORMALIZE_EOL=lf

# LLM: температура 0 (детерминизм), max_tokens 16384 (авто-кэп при input>80k → 4096).
# PAPAYU_LLM_TEMPERATURE=0
# PAPAYU_LLM_MAX_TOKENS=16384

# Таймаут запроса к LLM (сек).
# PAPAYU_LLM_TIMEOUT_SEC=90

# Трассировка: PAPAYU_TRACE=1 → пишет в .papa-yu/traces/<trace_id>.json (без raw_content по умолчанию).
# PAPAYU_TRACE=1
# PAPAYU_TRACE_RAW=1 — сохранять raw_content (с маскировкой sk-/Bearer)

# PAPAYU_PROTOCOL_VERSION=1|2 — версия схемы (default 1; v2 — PATCH_FILE, object-only)

# Контекст-диета: max 8 файлов, 20k на файл, 120k total.
# PAPAYU_CONTEXT_MAX_FILES=8
# PAPAYU_CONTEXT_MAX_FILE_CHARS=20000
# PAPAYU_CONTEXT_MAX_TOTAL_CHARS=120000
